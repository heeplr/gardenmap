<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Garden Map</title>
    <style>
        html, body { margin: 0; overflow: hidden; }
        #toolbox { position: absolute; top: 1rem; left: 1rem; }
        .plants-item { padding: 5px; cursor: grab; border-bottom: 1px solid #eee; user-select: none; }
        .plants-item img { width: 1.5em; height: 1.5em; margin-left: 1em; }
        #edit-form { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #fff; padding: 10px; border: 1px solid #aaa; z-index: 10; }
        #zoom-controls { position: absolute; bottom: 1rem; left: 1rem; }
        svg { width: 100vw; height: 100vh; background: #ffffff; }
        image { cursor: grab; }
        #selection-rect {
          fill: rgba(0, 120, 255, 0.2);
          stroke: #0078ff;
          stroke-width: 1;
          stroke-dasharray: 4;
          pointer-events: none;
        }
        .selected-plant {
          outline: 1px solid #0078ff;
        }
        #month-controls {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 16rem;
        }
        #edit-images div img { width: 100%; }
    </style>
    <link href="/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>
<body>
    <script src="/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>

    <div id="month-controls" class="card">
        <div class="card-body">
            <div class="display-6 text-center" id="month"></div>
            <input class="form-range" type="range" min="1" max="12" step="1" value="1" id="monthSlider" onchange="monthUpdateIcons(this.value)" oninput="monthUpdateIcons(this.value)">
        </div>
    </div>

    <div id="zoom-controls" class="btn-group-vertical" role="group" aria-label="zoom">
      <button type="button" class="btn btn-light" onclick="viewZoom(1.2)">+</button>
      <button type="button" class="btn btn-light" onclick="viewZoom(1/1.2)">-</button>
    </div>

    <div class="btn-group-vertical" id="toolbox" role="group" aria-label="toolbox">
      <button type="button" class="btn btn-light" data-bs-toggle="offcanvas" data-bs-target="#palette">üé®</button>

      <input type="checkbox" class="btn-check" id="heightVisualizationToggle" onclick="heightViewToggle(this.checked)" autocomplete="off">
      <label class="btn btn-light" for="heightVisualizationToggle">üìè</label>

      <input type="checkbox" class="btn-check" id="boxSelectToggle" onclick="boxSelectToggle(this.checked)" autocomplete="off">
      <label class="btn btn-light" for="boxSelectToggle">‚õ∂</label>

      <button type="button" class="btn btn-light" onclick="gardenDeletePlant()">üóëÔ∏è</button>
    </div>

    <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1" id="palette" aria-labelledby="paletteLabel">
      <div class="offcanvas-header">
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body" id="plantlist">
        <p>Try scrolling the rest of the page to see this option in action.</p>
      </div>
      <div class="offcanvas-footer plants-toolbar">
        <button type="button" class="btn btn-light" onclick="plantPaletteAdd()">+</button>
      </div>
    </div>

    <div id="plant-edit-form" class="modal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="container">
              <div class="mb-2">
                <label for="edit-name-trivial" class="form-label">Trivialname</label>
                <input id="edit-name-trivial" type="text" class="form-control" placeholder="Trivialname" aria-label="Trivialname">
              </div>
              <div class="mb-2">
                <label for="edit-name" class="form-label">Name</label>
                <input id="edit-name" type="text" class="form-control" placeholder="Name" aria-label="Name">
              </div>
              <div class="mb-2">
                <label for="edit-name-type" class="form-label">Typ</label>
                <input id="edit-type" type="text" class="form-control" placeholder="Typ" aria-label="Typ">
              </div>
              <div class="mb-2">
                <label for="edit-name-scale" class="form-label">Skalierung</label>
                <input id="edit-scale" type="text" class="form-control" placeholder="Skalierung" aria-label="Skalierung">
              </div>
              <div id="edit-images" class="row mb-2">
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" onclick="plantPaletteSaveEdit()">Save</button>
            <button type="button" class="btn btn-alert" onclick="gardenDeletePlant()">Delete</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    {% include "map.svg" %}

    <script>
        {% include "main.js" %}
    </script>
</body>
</html>
